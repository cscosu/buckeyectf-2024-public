<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="/style.css">
    <title>Meal Grammar</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg sticky-top navbar-dark bg-dark p-3">
        <a class="navbar-brand" href="#">Meal Grammar</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                    <a class="nav-link" href="/">Home<span class="sr-only"></span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/chef">Chef</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="./docs/homecooked">Homecooked Docs</a>
                </li>
                <li class="nav-item"></li>
                    <a class="nav-link" href="./docs/meal">Meal Docs</a>
                </li>
                <li class="nav-item"></li>
                    <a class="nav-link" href="/meal.lark">Meal Grammar</a>
                </li>
            </ul>
        </div>
    </nav>
    <h3 class="mx-auto pt-5 w-50 text-center">
        Meal Grammar Reference
    </h3>
    <pre class="py-5">
    body: (statement | eval | html | meal_literal)*
    statement.2: simple_statement | compound_statement
    compound_statement: "ğŸ´" (for_stmt | if_stmt | while_stmt) "ğŸ´"
    simple_statement: "ğŸ´" (assign_stmt | expression) "ğŸ´"
    eval.1: "ğŸ¥¢" expression "ğŸ¥¢"
    html.0: /[^ğŸ´ğŸ¥¢ğŸ§†ğŸ¥„]+/ body
                    
    for_stmt: "ğŸ”" testlist "ğŸŸ" expression "ğŸ¥„"  body "ğŸ¥„"
    if_stmt: "ğŸ•" test "ğŸ¥„" body "ğŸ¥„" ("ğŸ¥™" expression "ğŸ¥„" body "ğŸ¥„")* ("ğŸ¥ª" "ğŸ¥„" body "ğŸ¥„")?
    while_stmt: "ğŸŒ¯" test "ğŸ¥„" body "ğŸ¥„"
    assign_stmt: name "ğŸ‡" expression 

    meal_literal.0: "ğŸ§†" /[^ğŸ§†]+/ "ğŸ§†"
                    
    expression: or_test
    ?test: or_test ("ğŸ•" or_test "ğŸ¥ª" test)?  
    ?or_test: and_test ("ğŸ¹" and_test)*
    ?and_test: not_test ("ğŸ¸" not_test)*
    ?not_test: "ğŸ·" not_test | comparison
    ?comparison: arith_expr (COMP_OP arith_expr)*
    COMP_OP: "ğŸ°" | "ğŸ§" | "ğŸ¥§" | "ğŸ«" | "ğŸ¬" | "ğŸ­"
    ?arith_expr: term (ARITH_OP term)*
    ?term: factor (FACTOR_OP factor)*
    ?factor: UNARY_OP factor | power
    ?power: atom_expr ("ğŸš" factor)?
                    
    ?atom_expr: atom_expr "ğŸ¦€" [arguments] "ğŸ¦" -> funccall
            | atom_expr "ğŸ" subscript_list "ğŸ" -> getitem
            | atom_expr "ğŸ¥š" name -> getattr
            | atom
                    
    ?atom: "ğŸ" _exprlist? "ğŸ" -> list
        | "ğŸ¦€" test "ğŸ¦"
        | name -> var
        | number 
        | string
        | true 
        | false 
        | none
                    
    arguments: argvalue ("ğŸŒ­" argvalue)*
    ?argvalue: test kwargvalue?
    kwargvalue: ("ğŸ‡" test)
                    
    ?subscript_list: subscript
        | subscript (("ğŸŒ­" subscript)+ ["ğŸŒ­"] | "ğŸŒ­")
    ?subscript: test | ([test] "ğŸ†" [test] [sliceop])
    sliceop: "ğŸ†" [test]
                    
    _exprlist: expression
        | expression (("ğŸŒ­" expression)+ ["ğŸŒ­"]|"ğŸŒ­")
                    
    ?testlist: test | testlist_tuple
    testlist_tuple: test (("ğŸŒ­" test)+ ["ğŸŒ­"] | "ğŸŒ­")

    %import common.WS
    %ignore WS

    number: DEC_NUMBER | HEX_NUMBER | BIN_NUMBER | OCT_NUMBER | FLOAT_NUMBER | IMAG_NUMBER

    ARITH_OP: "ğŸ¦" | "ğŸ§"   
    FACTOR_OP: "ğŸ¨" | "ğŸ©" | "ğŸª" | "ğŸ‚"
    UNARY_OP: "ğŸ¥Ÿ" | "ğŸ¥ " | "ğŸ¥¡"
                
    name: /[^\W\d]\w*/
    COMMENT: /#[^\n]*/
                
    true: "ğŸŒ®"
    false: "ğŸ¥¬"
    none: "ğŸ¥•"


    string: /([ubf]?r?|r[ubf])("(?!"").*?(?<!\\)(\\\\)*?"|'(?!'').*?(?<!\\)(\\\\)*?')/i

    _SPECIAL_DEC: "0".."9"        ("_"?  "0".."9"                       )*
    DEC_NUMBER:   "1".."9"        ("_"?  "0".."9"                       )*
            |   "0"             ("_"?  "0"                            )* /(?![1-9])/
    HEX_NUMBER.2: "0" ("x" | "X") ("_"? ("0".."9" | "a".."f" | "A".."F"))+
    OCT_NUMBER.2: "0" ("o" | "O") ("_"?  "0".."7"                       )+
    BIN_NUMBER.2: "0" ("b" | "B") ("_"?  "0".."1"                       )+

    _EXP: ("e"|"E") ["+" | "-"] _SPECIAL_DEC
    DECIMAL: "." _SPECIAL_DEC | _SPECIAL_DEC "." _SPECIAL_DEC?
    FLOAT_NUMBER.2: _SPECIAL_DEC _EXP | DECIMAL _EXP?
    IMAG_NUMBER.2: (_SPECIAL_DEC      | FLOAT_NUMBER) ("J" | "j")
    </pre>
</body>